<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Open weather</title>

    <script>
        // Til opgave om fetch og async await ... fetch er et promise i sig selv - derfor alle de der .then() og .then() og .catch()
        // MEN med promise kan du også bruge async og await og dermed droppe alle then'erne ... prøv:


        // - husk at finde din openweathermap-key frem og indsæt den i xxxxxxxxx...

        // **** UDEN async-await - altså med klassisk :
        // **************************************************
        function kaldWebservice() {
            fetch("http://api.openweathermap.org/data/2.5/weather?zip=8000,dk&appid=4bcf55e67603425eea3fd063a6f25d8b&units=metric", {
                method: 'get'
            }).then(function (response) {
                return response.json();
            }).then(function (data) {
                console.log("data 1: ", data);
            }).catch(function (error) {
                console.log("FEJL: ", error);
            });
        }

        // **** Det samme med async-await - tilføj selv async og await og med en try-catch så også fejl bliver håndteret:
        // **************************************************
        async function kaldWebservice2() {
            try {
                const response = await
                fetch('http://api.openweathermap.org/data/2.5/weather?zip=8000,dk&appid=4bcf55e67603425eea3fd063a6f25d8b&units=metric', {
                    method: 'get'
                });

                let data2 = await response.json();
                console.log("data 2: ", data2);
                return data2;

            } catch (err) {
                console.log("Der er sket en fejl" + err)

            }
        }

        // Kald til de to funktioner (dem skal der ikke pilles i)
        kaldWebservice();
        kaldWebservice2();
    </script>
</head>

<body>

    <h2>ByVejr</h2>

    Tjek konsollen ... data udskrives ikke i dette ex




</body>

</html>