{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Jonas\\\\Desktop\\\\websites\\\\webit\\\\dataservices\\\\diversefrontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jonas\\\\Desktop\\\\websites\\\\webit\\\\dataservices\\\\diversefrontend\\\\src\\\\Components\\\\Ret.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Form, Button } from 'react-bootstrap';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Ret = () => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        title = _useState2[0],\n        setTitle = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        jokeText = _useState4[0],\n        setjokeText = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        redirect = _useState6[0],\n        setRedirect = _useState6[1];\n\n  const _useParams = useParams(),\n        joke_id = _useParams.joke_id;\n\n  useEffect(() => {\n    axios.get('http://localhost:3000/jokes/' + joke_id).then(res => {\n      console.log(res);\n      setTitle(res.data.title);\n      setjokeText(res.data.jokeText);\n    });\n  }, [joke_id]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.patch('http://localhost:3000/jokes/' + joke_id, {\n      title,\n      jokeText\n    }).then(() => setRedirect(true));\n    console.log(title);\n    console.log(jokeText);\n  };\n\n  if (redirect) {\n    return React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Ret joke\"), React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Form.Control, {\n    type: \"text\",\n    value: title,\n    required: true,\n    placeholder: \"Joke overskrift\",\n    onChange: e => setTitle(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(Form.Text, {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    class: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    type: \"text\",\n    value: jokeText,\n    required: true,\n    onChange: e => setjokeText(e.target.value),\n    className: \"form-control\",\n    id: \"exampleFormControlTextarea1\",\n    placeholder: \"JokeTekst her...\",\n    rows: \"3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-lg-12 text-center p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"primary\",\n    type: \"button\",\n    className: \"m-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Fortryd\"), React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Gem rettet joke\"))));\n};\n\nexport default Ret;","map":{"version":3,"sources":["C:/Users/Jonas/Desktop/websites/webit/dataservices/diversefrontend/src/Components/Ret.js"],"names":["React","useState","useEffect","useParams","Form","Button","Redirect","axios","Ret","title","setTitle","jokeText","setjokeText","redirect","setRedirect","joke_id","get","then","res","console","log","data","handleSubmit","e","preventDefault","patch","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { Redirect } from 'react-router-dom'\r\nimport axios from 'axios';\r\n\r\nconst Ret = () => {\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [jokeText, setjokeText] = useState('');\r\n    const [redirect, setRedirect] = useState(false);\r\n\r\n\r\n    const { joke_id } = useParams();\r\n\r\n    useEffect(() => {\r\n\r\n        axios.get('http://localhost:3000/jokes/' + joke_id)\r\n            .then(res => {\r\n                console.log(res);\r\n                setTitle(res.data.title);\r\n                setjokeText(res.data.jokeText);\r\n\r\n            });\r\n    }, [joke_id])\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios.patch('http://localhost:3000/jokes/' + joke_id, { title, jokeText })\r\n            .then(() => setRedirect(true))\r\n\r\n\r\n\r\n\r\n\r\n\r\n        console.log(title);\r\n        console.log(jokeText);\r\n\r\n    }\r\n\r\n    if (redirect) {\r\n\r\n        return <Redirect to='/' />\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1 className=\"text-center\">Ret joke</h1>\r\n\r\n\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Group controlId=\"formBasicEmail\">\r\n\r\n                    <Form.Control type=\"text\" value={title} required placeholder=\"Joke overskrift\" onChange={(e) => setTitle(e.target.value)} />\r\n\r\n                    <Form.Text className=\"text-muted\">\r\n\r\n                    </Form.Text>\r\n                </Form.Group>\r\n\r\n                <div class=\"form-group\">\r\n\r\n                    <textarea type=\"text\" value={jokeText} required onChange={(e) => setjokeText(e.target.value)} className=\"form-control\" id=\"exampleFormControlTextarea1\" placeholder=\"JokeTekst her...\" rows=\"3\"></textarea>\r\n                </div>\r\n\r\n                <div className=\"col-lg-12 text-center p-3\">\r\n                    <Button variant=\"primary\" type=\"button\" className=\"m-2\">\r\n                        Fortryd\r\n  </Button>\r\n\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        Gem rettet joke\r\n  </Button>\r\n\r\n                </div>\r\n\r\n\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Ret;\r\n"]},"metadata":{},"sourceType":"module"}